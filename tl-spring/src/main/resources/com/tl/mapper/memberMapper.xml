<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tl.mapper.MemberMapper">
	<!--  -->
	<insert id="signUp">
	INSERT INTO member (memberName,memberId,memberPw,role)
	VALUES(#{memberName},#{memberId},#{memberPw},'MEMBER')
	</insert>
	
	<resultMap id="loginResultMap" type = "com.tl.dto.LoginDTO">
	<id property="username" column="memberId"/>
	<result property="password" column="memberPw"/>
	<result property="authorities" column="role"/>
	</resultMap>
	
	 <select id="findByMemberId"  resultMap="loginResultMap">
        SELECT memberId, memberPw, role
        FROM member
        WHERE memberId = #{memberId}
    </select>
  
</mapper>